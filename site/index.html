<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>myArxiv | Daily CS Paper Radar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Fraunces:opsz,wght@9..144,600;9..144,800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css?v=20260224-7" />
  </head>
  <body>
    <div class="bg-orb orb-a"></div>
    <div class="bg-orb orb-b"></div>
    <div class="bg-grid"></div>

    <main class="page-shell">
      <header class="hero">
        <p class="eyebrow">myArxiv · Multi-Domain Intelligence Feed</p>
        <h1>每日 CS 论文雷达</h1>
        <p class="hero-text">
          自动聚合 arXiv `cs.RO` / `cs.CV` / `cs.CL` / `cs.SY` 最近 30 天论文，支持领域选择、关键词搜索、按日期归档，以及一键切换“最近 1 天”。
        </p>
        <div class="meta-row">
          <span id="fetchedAt">最近更新：载入中...</span>
          <a id="fieldOriginLink" class="meta-link" href="https://arxiv.org/list/cs.RO/recent" target="_blank" rel="noreferrer">
            查看当前领域原站
          </a>
        </div>
      </header>

      <section class="panel controls">
        <label class="control-field" for="fieldSelect">
          <span>领域</span>
          <select id="fieldSelect"></select>
        </label>

        <label class="control-search" for="searchInput">
          <span>搜索</span>
          <input
            id="searchInput"
            type="search"
            placeholder="输入标题、作者或关键词..."
            autocomplete="off"
          />
        </label>

        <label class="control-sort" for="sortSelect">
          <span>排序</span>
          <select id="sortSelect">
            <option value="published">按发布时间（新到旧）</option>
            <option value="updated">按更新时间（新到旧）</option>
            <option value="title">按标题（A-Z）</option>
          </select>
        </label>

        <div class="range-wrap control-range">
          <span>快捷范围</span>
          <div class="range-switch" role="group" aria-label="时间范围">
            <button id="rangeMonthBtn" class="range-btn is-active" type="button">最近30天</button>
            <button id="rangeDayBtn" class="range-btn" type="button">最近1天</button>
          </div>
        </div>

        <div class="manual-wrap control-manual">
          <span>手动任务</span>
          <label class="summary-model-wrap" for="summaryModelInput">
            <span>总结模型</span>
            <input id="summaryModelInput" type="text" list="summaryModelOptions" placeholder="例如 qwen3.5-397b-a17b" />
            <datalist id="summaryModelOptions">
              <option value="qwen3.5-397b-a17b"></option>
              <option value="qwen3-max"></option>
              <option value="qwen3-max-2026-01-23"></option>
              <option value="qwen-plus-latest"></option>
              <option value="qwen-plus-2025-12-01"></option>
            </datalist>
          </label>
          <div class="manual-actions">
            <button id="triggerUpdateBtn" class="manual-btn" type="button">一键触发更新</button>
            <button id="triggerSummaryDailyBtn" class="manual-btn alt" type="button">一键总结最近1天新文</button>
          </div>
          <p id="triggerUpdateMsg" class="manual-msg">更新数据：点按钮可直接触发更新；若未配置 Worker，则自动打开 Actions 页面。</p>
          <p id="triggerSummaryMsg" class="manual-msg">总结任务：支持“最近1天批量总结”和“单篇总结”（卡片按钮）。</p>
        </div>
      </section>

      <section class="stats" id="stats"></section>

      <section id="paperGroups" class="paper-groups" aria-live="polite"></section>
      <div id="moreWrap" class="more-wrap hidden">
        <button id="loadMoreBtn" class="load-more-btn" type="button">加载更多</button>
      </div>
      <p id="emptyState" class="empty hidden">没有匹配的论文，换个关键词试试。</p>
      <p id="errorState" class="error hidden">数据加载失败，请稍后刷新页面。</p>
    </main>

    <aside id="summaryDialog" class="summary-dialog hidden" aria-live="polite">
      <header class="summary-dialog-header">
        <div>
          <h3>AI总结对话框</h3>
          <p id="summaryDialogSub" class="summary-dialog-sub">未选择论文</p>
        </div>
        <div class="summary-dialog-actions">
          <button id="summaryDialogRefreshBtn" type="button" class="summary-dialog-btn">刷新</button>
          <button id="summaryDialogClearBtn" type="button" class="summary-dialog-btn">清空记忆</button>
          <button id="summaryDialogCloseBtn" type="button" class="summary-dialog-btn">关闭</button>
        </div>
      </header>
      <div id="summaryDialogBody" class="summary-dialog-body"></div>
      <footer class="summary-dialog-footer">
        <small>记忆说明：本地浏览器会保留最近对话和查看记录。</small>
      </footer>
    </aside>

    <script src="./config.js?v=20260224-5" defer></script>
    <script src="./app.js?v=20260224-11" defer></script>
  </body>
</html>
